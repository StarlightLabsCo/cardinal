[1691128661220][33m[OPENAI] Creating chat completion...[39m
[1691128661222][33m[OPENAI] Creating embedding...[39m
[1691128661224][33m[OPENAI] Creating chat completion...[39m
[1691128661224][33m[OPENAI] Creating embedding...[39m
[1691128661224][33m[OPENAI] Creating chat completion...[39m
[1691128661224][33m[OPENAI] Creating embedding...[39m
[1691128661224][33m[OPENAI] Creating chat completion...[39m
[1691128661224][33m[OPENAI] Creating embedding...[39m
[1691128661224][33m[OPENAI] Creating chat completion...[39m
[1691128661225][33m[OPENAI] Creating embedding...[39m
[1691128661225][33m[OPENAI] Creating chat completion...[39m
[1691128661225][33m[OPENAI] Creating embedding...[39m
[1691128661225][33m[OPENAI] Creating chat completion...[39m
[1691128661226][33m[OPENAI] Creating embedding...[39m
[1691128661226][33m[OPENAI] Creating chat completion...[39m
[1691128661226][33m[OPENAI] Creating embedding...[39m
[1691128661226][33m[OPENAI] Creating chat completion...[39m
[1691128661226][33m[OPENAI] Creating embedding...[39m
[1691128661226][33m[OPENAI] Creating chat completion...[39m
[1691128661226][33m[OPENAI] Creating embedding...[39m
[1691128661226][33m[OPENAI] Creating chat completion...[39m
[1691128661227][33m[OPENAI] Creating embedding...[39m
[1691128661227][33m[OPENAI] Creating chat completion...[39m
[1691128661227][33m[OPENAI] Creating embedding...[39m
[1691128661227][33m[OPENAI] Creating chat completion...[39m
[1691128661227][33m[OPENAI] Creating embedding...[39m
[1691128661228][33m[OPENAI] Creating chat completion...[39m
[1691128661228][33m[OPENAI] Creating embedding...[39m
[1691128661460][32m[OPENAI] Embedding created successfully.[39m
[1691128661463][32m[OPENAI] Embedding created successfully.[39m
[1691128661478][32m[OPENAI] Embedding created successfully.[39m
[1691128661481][32m[OPENAI] Embedding created successfully.[39m
[1691128661487][32m[OPENAI] Embedding created successfully.[39m
[1691128661488][32m[OPENAI] Embedding created successfully.[39m
[1691128661496][32m[OPENAI] Embedding created successfully.[39m
[1691128661499][32m[OPENAI] Embedding created successfully.[39m
[1691128661506][32m[OPENAI] Embedding created successfully.[39m
[1691128661509][32m[OPENAI] Embedding created successfully.[39m
[1691128661516][32m[OPENAI] Embedding created successfully.[39m
[1691128661516][32m[OPENAI] Embedding created successfully.[39m
[1691128661547][32m[OPENAI] Embedding created successfully.[39m
[1691128661567][32m[OPENAI] Embedding created successfully.[39m
[1691128661814][36m[OPENAI] Chat completion took 589.4032502174377ms[39m
[1691128661814][36m[OPENAI] Tokens per second: 1.696631295519813tps[39m
[1691128661814][32m[OPENAI] Chat completion created successfully.[39m
[1691128661816][36m[OPENAI] Chat completion took 590.8630418777466ms[39m
[1691128661816][36m[OPENAI] Tokens per second: 1.6924395826518905tps[39m
[1691128661816][32m[OPENAI] Chat completion created successfully.[39m
[1691128661849][36m[OPENAI] Chat completion took 622.8264999389648ms[39m
[1691128661850][36m[OPENAI] Tokens per second: 1.6055835776062788tps[39m
[1691128661850][32m[OPENAI] Chat completion created successfully.[39m
[1691128661876][36m[OPENAI] Chat completion took 650.0725836753845ms[39m
[1691128661876][36m[OPENAI] Tokens per second: 1.5382897619619544tps[39m
[1691128661876][32m[OPENAI] Chat completion created successfully.[39m
[1691128661941][36m[OPENAI] Chat completion took 714.4052500724792ms[39m
[1691128661942][36m[OPENAI] Tokens per second: 1.3997657490598594tps[39m
[1691128661942][32m[OPENAI] Chat completion created successfully.[39m
[1691128662025][36m[OPENAI] Chat completion took 798.9878330230713ms[39m
[1691128662026][36m[OPENAI] Tokens per second: 1.2515835143776517tps[39m
[1691128662026][32m[OPENAI] Chat completion created successfully.[39m
[1691128662120][36m[OPENAI] Chat completion took 895.8854999542236ms[39m
[1691128662120][36m[OPENAI] Tokens per second: 1.1162140698237624tps[39m
[1691128662121][32m[OPENAI] Chat completion created successfully.[39m
[1691128662204][36m[OPENAI] Chat completion took 979.830207824707ms[39m
[1691128662205][36m[OPENAI] Tokens per second: 1.020584987086764tps[39m
[1691128662205][32m[OPENAI] Chat completion created successfully.[39m
[1691128662252][36m[OPENAI] Chat completion took 1026.4784588813782ms[39m
[1691128662252][36m[OPENAI] Tokens per second: 0.9742045644969174tps[39m
[1691128662253][32m[OPENAI] Chat completion created successfully.[39m
[1691128662448][36m[OPENAI] Chat completion took 1226.948124885559ms[39m
[1691128662448][36m[OPENAI] Tokens per second: 0.8150303828805091tps[39m
[1691128662448][32m[OPENAI] Chat completion created successfully.[39m
[1691128662574][36m[OPENAI] Chat completion took 1348.4204998016357ms[39m
[1691128662577][36m[OPENAI] Tokens per second: 0.7416084227042741tps[39m
[1691128662577][32m[OPENAI] Chat completion created successfully.[39m
[1691128662600][36m[OPENAI] Chat completion took 1372.6249589920044ms[39m
[1691128662600][36m[OPENAI] Tokens per second: 0.7285311209366003tps[39m
[1691128662600][32m[OPENAI] Chat completion created successfully.[39m
[1691128663055][36m[OPENAI] Chat completion took 1830.4515829086304ms[39m
[1691128663055][36m[OPENAI] Tokens per second: 0.5463132755530068tps[39m
[1691128663055][32m[OPENAI] Chat completion created successfully.[39m
[1691128663079][36m[OPENAI] Chat completion took 1851.7419590950012ms[39m
[1691128663080][36m[OPENAI] Tokens per second: 0.5400320466296116tps[39m
[1691128663080][32m[OPENAI] Chat completion created successfully.[39m
[1691128670751][33m[OPENAI] Creating embedding...[39m
[1691128670979][32m[OPENAI] Embedding created successfully.[39m
[1691128671631][33m[OPENAI] Creating embedding...[39m
[1691128671808][32m[OPENAI] Embedding created successfully.[39m
[1691128672157][33m[OPENAI] Creating embedding...[39m
[1691128672362][32m[OPENAI] Embedding created successfully.[39m
[1691128672725]--- Prompt ---
[1691128672727]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Mine ore",
    "priority": 1
  },
  {
    "task": "Store extra materials in chest",
    "priority": 2
  },
  {
    "task": "Chop trees",
    "priority": 3
  }
]

Memories:
- I need to make sure everyone is safe. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- It's my job to protect the village. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- I like strawberries. [just now]
- The mine site is at 51, 17. [just now]
- I do the work that no one else wants to do. [just now]
- I'm not afraid of anything. [just now]
- I try to be as honest as possible. [just now]
- The village location is 2, -58. [just now]

Available Actions:
- MoveTo: Move to a target location
  - Parameters:

- Drop Axe: Drop Axe from your inventory onto the ground.
  - Parameters:

- Drop Pickaxe: Drop Pickaxe from your inventory onto the ground.
  - Parameters:

- Drop Sword: Drop Sword from your inventory onto the ground.
  - Parameters:


Given the available information, update your task list. Take into consideration the time of day, environment, personality of the character, and more. Replace the entire JSON array by removing completed tasks, updating existing tasks with new information and priorities, and create new tasks based on the provided info. Keep the list as concise as possible. Remember focus on the time of day to adjust priorities.
[1691128672727][33m[OPENAI] Creating chat completion...[39m
[1691128691687][36m[OPENAI] Chat completion took 18956.042165756226ms[39m
[1691128691688][36m[OPENAI] Tokens per second: 9.442899442551385tps[39m
[1691128691688][32m[OPENAI] Chat completion created successfully.[39m
[1691128691688]--- Response ---
[1691128691688]Updated Tasks: 
[1691128691689][
  {
    "task": "Move to mine site",
    "priority": 1,
    "parameters": {
      "location": [
        51,
        17
      ]
    }
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3,
    "parameters": {
      "location": [
        2,
        -58
      ]
    }
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]
[1691128691773][33m[OPENAI] Creating embedding...[39m
[1691128691948][32m[OPENAI] Embedding created successfully.[39m
[1691128692348][33m[OPENAI] Creating embedding...[39m
[1691128692513][32m[OPENAI] Embedding created successfully.[39m
[1691128692844][33m[OPENAI] Creating embedding...[39m
[1691128693031][32m[OPENAI] Embedding created successfully.[39m
[1691128693322][33m[OPENAI] Creating embedding...[39m
[1691128693449][32m[OPENAI] Embedding created successfully.[39m
[1691128693758][33m[OPENAI] Creating embedding...[39m
[1691128693928][32m[OPENAI] Embedding created successfully.[39m
[1691128694247][33m[OPENAI] Creating embedding...[39m
[1691128694570][32m[OPENAI] Embedding created successfully.[39m
[1691128694896][33m[OPENAI] Creating embedding...[39m
[1691128695202][32m[OPENAI] Embedding created successfully.[39m
[1691128695528]--- Prompt ---
[1691128695529]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.


[1691128695530][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128695531][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128695532][33m[OPENAI] Creating chat completion...[39m
[1691128695621]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914b6f3b1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:15 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "199",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "300ms",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "a542f65779c438d946fe804067657331"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128695622][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914b6f3b1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:15 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '199',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '300ms',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'a542f65779c438d946fe804067657331'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128695622][31mFailed to create chat completion. Retrying...[39m
[1691128695712]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914bffba1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:15 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "198",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "507ms",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "dd71fd14267ae4272ab5ef3ff1fb6170"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128695712][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914bffba1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:15 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '198',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '507ms',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'dd71fd14267ae4272ab5ef3ff1fb6170'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128695712][31mFailed to create chat completion. Retrying...[39m
[1691128695857]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914c88451637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:15 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "197",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "675ms",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "e129fe41c218653fd1450e65ef282d3f"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128695857][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914c88451637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:15 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '197',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '675ms',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'e129fe41c218653fd1450e65ef282d3f'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128695858][31mFailed to create chat completion. Retrying...[39m
[1691128695966]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914d79421637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "197",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "869ms",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "597d50923e30e8ec3d3b3be310600494"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128695967][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914d79421637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '197',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '869ms',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '597d50923e30e8ec3d3b3be310600494'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128695967][31mFailed to create chat completion. Retrying...[39m
[1691128696043]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914e1a931637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "6",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "196",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "1.062s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "bdee3384580db02419d5a25b231709e8"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696043][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914e1a931637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '6',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '196',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '1.062s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'bdee3384580db02419d5a25b231709e8'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696044][31mFailed to create chat completion. Retrying...[39m
[1691128696044]--- Response ---
[1691128696044]Plan: 
[1691128696044]undefined
[1691128696045]{}
[1691128696045]--- Prompt ---
[1691128696045]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.



[1691128696045][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128696045][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128696046][33m[OPENAI] Creating chat completion...[39m
[1691128696147]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914e9b371637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "195",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "1.284s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "a0297a508bf5f060cbec8f4dd50e80cf"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696148][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914e9b371637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '195',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '1.284s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'a0297a508bf5f060cbec8f4dd50e80cf'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696148][31mFailed to create chat completion. Retrying...[39m
[1691128696250]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914f4bdf1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "195",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "1.482s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "cab8e033cb64ea05a80da855a4e4f309"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696250][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914f4bdf1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '195',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '1.482s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'cab8e033cb64ea05a80da855a4e4f309'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696251][31mFailed to create chat completion. Retrying...[39m
[1691128696355]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14914fec9f1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "194",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "1.679s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "b867e43aedb85c6e8cddb8826435779e"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696355][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14914fec9f1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '194',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '1.679s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'b867e43aedb85c6e8cddb8826435779e'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696355][31mFailed to create chat completion. Retrying...[39m
[1691128696465]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491508d8a1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "193",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "1.868s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "75e4280f68a5c9d5058d397787dad88d"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696466][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491508d8a1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '193',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '1.868s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '75e4280f68a5c9d5058d397787dad88d'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696466][31mFailed to create chat completion. Retrying...[39m
[1691128696559]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491513e5b1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "193",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "2.061s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "2a14cf745e8aa7f95f7d700ee2cd463c"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696559][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491513e5b1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '193',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '2.061s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '2a14cf745e8aa7f95f7d700ee2cd463c'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696560][31mFailed to create chat completion. Retrying...[39m
[1691128696560]--- Response ---
[1691128696560]Plan: 
[1691128696560]undefined
[1691128696560]{}
[1691128696560]--- Prompt ---
[1691128696560]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.




[1691128696560][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128696560][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128696560][33m[OPENAI] Creating chat completion...[39m
[1691128696665]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149151df0e1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "192",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "2.269s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "b4131c60db3e5b2e2aba91c051f9b422"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696665][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149151df0e1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '192',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '2.269s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'b4131c60db3e5b2e2aba91c051f9b422'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696665][31mFailed to create chat completion. Retrying...[39m
[1691128696785]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491527fdc1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "191",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "2.45s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "774c8a567e52aefc338666567284ef24"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696785][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491527fdc1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '191',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '2.45s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '774c8a567e52aefc338666567284ef24'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696785][31mFailed to create chat completion. Retrying...[39m
[1691128696887]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915338a31637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:16 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "191",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "2.646s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "d561c5e3389b08bc2800158e237cf62f"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696888][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915338a31637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:16 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '191',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '2.646s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'd561c5e3389b08bc2800158e237cf62f'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696888][31mFailed to create chat completion. Retrying...[39m
[1691128696995]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149153e96d1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "190",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "2.839s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "6cd17d9e1643e981cda2724b0aec65e9"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128696996][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149153e96d1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '190',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '2.839s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '6cd17d9e1643e981cda2724b0aec65e9'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128696996][31mFailed to create chat completion. Retrying...[39m
[1691128697098]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491548a2e1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "189",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "3.034s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "af38a21aa61322105282a8b9c27834b9"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697099][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491548a2e1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '189',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '3.034s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'af38a21aa61322105282a8b9c27834b9'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697099][31mFailed to create chat completion. Retrying...[39m
[1691128697099]--- Response ---
[1691128697099]Plan: 
[1691128697100]undefined
[1691128697100]{}
[1691128697100]--- Prompt ---
[1691128697100]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.





[1691128697100][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128697100][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128697101][33m[OPENAI] Creating chat completion...[39m
[1691128697206]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491553adf1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "189",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "3.226s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "ad4707799e90ec812a41007aa94b4dfe"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697207][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491553adf1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '189',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '3.226s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'ad4707799e90ec812a41007aa94b4dfe'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697207][31mFailed to create chat completion. Retrying...[39m
[1691128697312]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149155dba81637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "188",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "3.422s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "82f15c5d593baa107f8f771c9a089682"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697312][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149155dba81637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '188',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '3.422s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '82f15c5d593baa107f8f771c9a089682'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697313][31mFailed to create chat completion. Retrying...[39m
[1691128697416]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491568cb11637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "187",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "3.616s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "bf299b51f4447d52c560c381aed0ca89"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697416][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491568cb11637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '187',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '3.616s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'bf299b51f4447d52c560c381aed0ca89'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697416][31mFailed to create chat completion. Retrying...[39m
[1691128697531]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491572d701637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "187",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "3.811s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "2b09f5e140490f229350be9627d23b40"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697532][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491572d701637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '187',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '3.811s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '2b09f5e140490f229350be9627d23b40'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697532][31mFailed to create chat completion. Retrying...[39m
[1691128697643]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149157ee451637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "3",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "186",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "3.99s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "2d0c42dcb801f6a1bf14d2f9ff56c4da"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697643][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149157ee451637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '3',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '186',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '3.99s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '2d0c42dcb801f6a1bf14d2f9ff56c4da'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697643][31mFailed to create chat completion. Retrying...[39m
[1691128697643]--- Response ---
[1691128697643]Plan: 
[1691128697643]undefined
[1691128697644]{}
[1691128697644]--- Prompt ---
[1691128697644]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.






[1691128697644][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128697644][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128697644][33m[OPENAI] Creating chat completion...[39m
[1691128697718]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491589efd1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "186",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "4.187s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "e7332c41a8151ca1ce6f1070d7314036"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697718][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491589efd1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '186',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '4.187s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'e7332c41a8151ca1ce6f1070d7314036'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697718][31mFailed to create chat completion. Retrying...[39m
[1691128697794]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491591f721637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "185",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "4.412s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "deeb33f2a20c55b6b88954522412dc98"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697794][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491591f721637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '185',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '4.412s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'deeb33f2a20c55b6b88954522412dc98'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697796][31mFailed to create chat completion. Retrying...[39m
[1691128697875]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915988091637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:17 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "7",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "184",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "4.632s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "7ae9f4d4c2a455e01e71090c65ee6e7d"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697875][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915988091637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:17 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '7',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '184',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '4.632s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '7ae9f4d4c2a455e01e71090c65ee6e7d'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697876][31mFailed to create chat completion. Retrying...[39m
[1691128697964]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915a08881637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "183",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "4.856s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "3b07818db49c37eea2ae241fd6927915"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128697964][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915a08881637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '183',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '4.856s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '3b07818db49c37eea2ae241fd6927915'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128697964][31mFailed to create chat completion. Retrying...[39m
[1691128698067]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915a99241637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "183",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "5.066s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "c62496b563120deff8c82c1dd2bd7d72"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698068][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915a99241637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '183',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '5.066s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'c62496b563120deff8c82c1dd2bd7d72'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698068][31mFailed to create chat completion. Retrying...[39m
[1691128698068]--- Response ---
[1691128698068]Plan: 
[1691128698068]undefined
[1691128698069]{}
[1691128698069]--- Prompt ---
[1691128698069]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.







[1691128698069][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128698069][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128698069][33m[OPENAI] Creating chat completion...[39m
[1691128698159]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915b49ea1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "182",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "5.262s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "a60ceb63cfb000d80e27c6458d7e3027"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698159][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915b49ea1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '182',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '5.262s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'a60ceb63cfb000d80e27c6458d7e3027'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698159][31mFailed to create chat completion. Retrying...[39m
[1691128698274]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915bda7d1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "181",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "5.471s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "275e4af6a87307535e06e6b08840a36c"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698275][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915bda7d1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '181',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '5.471s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '275e4af6a87307535e06e6b08840a36c'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698275][31mFailed to create chat completion. Retrying...[39m
[1691128698423]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915c8b311637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "181",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "5.581s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "1742c81fba31a703cfccc304db2cac9b"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698423][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915c8b311637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '181',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '5.581s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '1742c81fba31a703cfccc304db2cac9b'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698423][31mFailed to create chat completion. Retrying...[39m
[1691128698566]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915d7c3b1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "180",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "5.738s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "c3c67f369b717d4ad4773c169be6f81d"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698566][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915d7c3b1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '180',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '5.738s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'c3c67f369b717d4ad4773c169be6f81d'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698566][31mFailed to create chat completion. Retrying...[39m
[1691128698670]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915e5d451637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "180",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "5.965s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "f377e476c8b44623a386a1c1b6b9df1f"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698670][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915e5d451637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '180',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '5.965s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'f377e476c8b44623a386a1c1b6b9df1f'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698670][31mFailed to create chat completion. Retrying...[39m
[1691128698670]--- Response ---
[1691128698670]Plan: 
[1691128698670]undefined
[1691128698671]{}
[1691128698671]--- Prompt ---
[1691128698671]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.








[1691128698671][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128698671][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128698671][33m[OPENAI] Creating chat completion...[39m
[1691128698773]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915f0e251637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "179",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "6.161s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "8dbd20cb2bff30aca4cce7d2cffb9c62"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698773][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915f0e251637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '179',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '6.161s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '8dbd20cb2bff30aca4cce7d2cffb9c62'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698774][31mFailed to create chat completion. Retrying...[39m
[1691128698879]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14915faeb51637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:18 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "178",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "6.354s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "4c2ebd1e234f65a76b2345f09a07c5d0"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698879][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14915faeb51637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:18 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '178',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '6.354s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '4c2ebd1e234f65a76b2345f09a07c5d0'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698880][31mFailed to create chat completion. Retrying...[39m
[1691128698983]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491605f771637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "178",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "6.551s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "64e7c3904b24f19e9aeeac42a91d2516"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128698984][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491605f771637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '178',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '6.551s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '64e7c3904b24f19e9aeeac42a91d2516'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128698984][31mFailed to create chat completion. Retrying...[39m
[1691128699062]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149160f8171637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "177",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "6.744s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "e7c819a01d752683bbe376d69439e104"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699063][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149160f8171637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '177',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '6.744s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'e7c819a01d752683bbe376d69439e104'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699063][31mFailed to create chat completion. Retrying...[39m
[1691128699164]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14916178ac1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "176",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "6.967s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "ffd405db3a2051fe9e4db1ae5c96b76e"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699165][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14916178ac1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '176',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '6.967s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'ffd405db3a2051fe9e4db1ae5c96b76e'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699165][31mFailed to create chat completion. Retrying...[39m
[1691128699165]--- Response ---
[1691128699165]Plan: 
[1691128699165]undefined
[1691128699165]{}
[1691128699165]--- Prompt ---
[1691128699165]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.









[1691128699166][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128699166][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128699166][33m[OPENAI] Creating chat completion...[39m
[1691128699269]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14916219701637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "176",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "7.165s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "a250d32fbbb88748a466c0761f35fde2"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699269][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14916219701637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '176',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '7.165s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'a250d32fbbb88748a466c0761f35fde2'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699269][31mFailed to create chat completion. Retrying...[39m
[1691128699347]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149162ca181637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "7",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "175",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "7.359s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "9f61ae1685b68fcd66ecc9aafda33c0f"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699348][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149162ca181637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '7',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '175',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '7.359s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '9f61ae1685b68fcd66ecc9aafda33c0f'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699348][31mFailed to create chat completion. Retrying...[39m
[1691128699516]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491634aee1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "6",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "174",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "7.507s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "8dbd7ed75f60efccd674ba999cd0623b"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699517][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491634aee1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '6',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '174',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '7.507s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '8dbd7ed75f60efccd674ba999cd0623b'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699517][31mFailed to create chat completion. Retrying...[39m
[1691128699620]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491644c291637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "174",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "7.713s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "d290d453e70044fb9bd2fca24e0c1b13"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699621][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491644c291637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '174',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '7.713s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'd290d453e70044fb9bd2fca24e0c1b13'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699621][31mFailed to create chat completion. Retrying...[39m
[1691128699727]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149164fcd11637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "173",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "7.911s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "f119c88b0f1530965c99c1ebfd2c0154"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699728][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149164fcd11637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '173',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '7.911s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'f119c88b0f1530965c99c1ebfd2c0154'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699728][31mFailed to create chat completion. Retrying...[39m
[1691128699728]--- Response ---
[1691128699728]Plan: 
[1691128699728]undefined
[1691128699728]{}
[1691128699728]--- Prompt ---
[1691128699728]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.










[1691128699729][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128699729][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128699729][33m[OPENAI] Creating chat completion...[39m
[1691128699844]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149165ad801637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:19 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "172",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "8.102s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "1942c756756b10da16de3dbfdde35084"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699848][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149165ad801637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:19 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '172',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '8.102s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '1942c756756b10da16de3dbfdde35084'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699849][31mFailed to create chat completion. Retrying...[39m
[1691128699984]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491666e401637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "172",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "8.252s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "380a1fa761414e85158da4c611df2e07"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128699985][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491666e401637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '172',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '8.252s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '380a1fa761414e85158da4c611df2e07'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128699986][31mFailed to create chat completion. Retrying...[39m
[1691128700090]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f1491673f2d1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "171",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "8.446s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "70b6f9acc881e9855b10cfc8a23cd9a6"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700091][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f1491673f2d1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '171',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '8.446s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '70b6f9acc881e9855b10cfc8a23cd9a6'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700091][31mFailed to create chat completion. Retrying...[39m
[1691128700195]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149167efe81637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "3",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "171",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "8.635s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "9dee7bac5b7c8c99f17d0f6e473838b2"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700196][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149167efe81637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '3',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '171',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '8.635s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '9dee7bac5b7c8c99f17d0f6e473838b2'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700196][31mFailed to create chat completion. Retrying...[39m
[1691128700309]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149168889c1637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "170",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "8.824s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "167c4653b901ee561067a2db8f7a8573"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700309][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149168889c1637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '170',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '8.824s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '167c4653b901ee561067a2db8f7a8573'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700309][31mFailed to create chat completion. Retrying...[39m
[1691128700309]--- Response ---
[1691128700309]Plan: 
[1691128700310]undefined
[1691128700310]{}
[1691128700310]--- Prompt ---
[1691128700310]Character: 
- ID: A1
- Name: Thomas Smith
- Age: 32
- Occupation: Village Leader
- Personality: Brave, Calm, Honest

Location: 5.7, -57.9

Time: Day 0, 12:00 AM

Environment:

Inventory (3/10):
- Axe x 1
- Pickaxe x 1
- Sword x 1

Tasks:
[
  {
    "task": "Move to mine site",
    "priority": 1
  },
  {
    "task": "Mine ore",
    "priority": 2
  },
  {
    "task": "Return to village",
    "priority": 3
  },
  {
    "task": "Store extra materials in chest",
    "priority": 4
  },
  {
    "task": "Chop trees",
    "priority": 5
  },
  {
    "task": "Check villagers' safety",
    "priority": 6
  },
  {
    "task": "Gather strawberries",
    "priority": 7
  }
]

Memories:
- I'm not afraid of anything. [just now]
- I like strawberries. [just now]
- I try to be as honest as possible. [just now]
- Nume Falls are north of the village, and west of the campsite. [just now]
- The village location is 2, -58. [just now]
- The area is surrounded by forested monutains, filled with wildlife, rivers, and lakes. [just now]
- I do the work that no one else wants to do. [just now]
- It's my job to protect the village. [just now]
- The mine site is at 51, 17. [just now]
- I need to make sure everyone is safe. [just now]

Given the available information, pick the best available action function to accomplish your tasks.











[1691128700310][31m[[39m[37mO[39m[34mP[39m[31mE[39m[37mN[39m[34mA[39m[31mI[39m[37m][39m [31mA[39m[37mc[39m[34mt[39m[31mi[39m[37mo[39m[34mn[39m[31ms[39m[37m:[39m
[1691128700310][
  {
    "name": "MoveTo",
    "description": "Move to a target location",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "x": {
          "type": "number",
          "description": "The X coordinate of the target location."
        },
        "y": {
          "type": "number",
          "description": "The Y coordinate of the target location."
        }
      }
    }
  },
  {
    "name": "Drop Axe",
    "description": "Drop Axe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Pickaxe",
    "description": "Drop Pickaxe from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  },
  {
    "name": "Drop Sword",
    "description": "Drop Sword from your inventory onto the ground.",
    "parameters": {
      "type": "object",
      "properties": {
        "characterId": {
          "type": "string",
          "description": "The character ID of the character that is adding the item to the chest."
        },
        "itemId": {
          "type": "string",
          "description": "The item ID of the item that is being added to the chest.",
          "values": [
            "wood",
            "stone",
            "iron",
            "diamond",
            "copper",
            "coal",
            "axe",
            "pickaxe",
            "sword"
          ]
        }
      }
    }
  }
]
[1691128700310][33m[OPENAI] Creating chat completion...[39m
[1691128700382]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14916949681637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "169",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "9.02s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "ed05cbd5939c2dcb0c850b8e05b6ec91"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700382][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14916949681637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '169',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '9.02s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'ed05cbd5939c2dcb0c850b8e05b6ec91'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700382][31mFailed to create chat completion. Retrying...[39m
[1691128700462]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f149169b9e81637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "169",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "9.241s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "57eb0e8dd1288a5d4376f9eb69cae249"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700463][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f149169b9e81637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '169',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '9.241s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '57eb0e8dd1288a5d4376f9eb69cae249'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700463][31mFailed to create chat completion. Retrying...[39m
[1691128700567]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14916a3a681637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "168",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "9.467s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "7407d911b6198187b8ba81304b578951"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700567][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14916a3a681637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '168',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '9.467s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '7407d911b6198187b8ba81304b578951'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700568][31mFailed to create chat completion. Retrying...[39m
[1691128700678]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14916adb091637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "5",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "167",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "9.661s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "99eb75ea7e2c187b5f24376aec97e523"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700678][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14916adb091637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '5',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '167',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '9.661s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': '99eb75ea7e2c187b5f24376aec97e523'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700678][31mFailed to create chat completion. Retrying...[39m
[1691128700775]{
  "status": 400,
  "headers": {
    "access-control-allow-origin": "*",
    "alt-svc": "h3=\":443\"; ma=86400",
    "cf-cache-status": "DYNAMIC",
    "cf-ray": "7f14916b9bc31637-SJC",
    "connection": "keep-alive",
    "content-length": "183",
    "content-type": "application/json",
    "date": "Fri, 04 Aug 2023 05:58:20 GMT",
    "openai-organization": "ember-ai",
    "openai-processing-ms": "4",
    "openai-version": "2020-10-01",
    "server": "cloudflare",
    "strict-transport-security": "max-age=15724800; includeSubDomains",
    "x-ratelimit-limit-requests": "200",
    "x-ratelimit-limit-tokens": "40000",
    "x-ratelimit-remaining-requests": "167",
    "x-ratelimit-remaining-tokens": "39960",
    "x-ratelimit-reset-requests": "9.848s",
    "x-ratelimit-reset-tokens": "60ms",
    "x-request-id": "ee38ab2265238e96a853cab52f90746d"
  },
  "error": {
    "message": "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",
    "type": "invalid_request_error",
    "param": null,
    "code": null
  },
  "code": null,
  "param": null,
  "type": "invalid_request_error"
}
[1691128700775][31mBadRequestError: 'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'[39m
[31m    at APIError.generate (file:///Users/harris/src/starlightshire-server/node_modules/openai/error.mjs:31:14)[39m
[31m    at OpenAI.makeStatusError (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:176:21)[39m
[31m    at OpenAI.request (file:///Users/harris/src/starlightshire-server/node_modules/openai/core.mjs:212:24)[39m
[31m    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
[31m    at async createChatCompletion (file:///Users/harris/src/starlightshire-server/dist/src/ai/openai.js:49:28)[39m
[31m    at async Object.getAction [as GetAction] (file:///Users/harris/src/starlightshire-server/dist/src/ai/agent.js:303:30)[39m
[31m    at async WebSocket.<anonymous> (file:///Users/harris/src/starlightshire-server/dist/src/index.js:54:9) {[39m
[31m  status: 400,[39m
[31m  headers: {[39m
[31m    'access-control-allow-origin': '*',[39m
[31m    'alt-svc': 'h3=":443"; ma=86400',[39m
[31m    'cf-cache-status': 'DYNAMIC',[39m
[31m    'cf-ray': '7f14916b9bc31637-SJC',[39m
[31m    connection: 'keep-alive',[39m
[31m    'content-length': '183',[39m
[31m    'content-type': 'application/json',[39m
[31m    date: 'Fri, 04 Aug 2023 05:58:20 GMT',[39m
[31m    'openai-organization': 'ember-ai',[39m
[31m    'openai-processing-ms': '4',[39m
[31m    'openai-version': '2020-10-01',[39m
[31m    server: 'cloudflare',[39m
[31m    'strict-transport-security': 'max-age=15724800; includeSubDomains',[39m
[31m    'x-ratelimit-limit-requests': '200',[39m
[31m    'x-ratelimit-limit-tokens': '40000',[39m
[31m    'x-ratelimit-remaining-requests': '167',[39m
[31m    'x-ratelimit-remaining-tokens': '39960',[39m
[31m    'x-ratelimit-reset-requests': '9.848s',[39m
[31m    'x-ratelimit-reset-tokens': '60ms',[39m
[31m    'x-request-id': 'ee38ab2265238e96a853cab52f90746d'[39m
[31m  },[39m
[31m  error: {[39m
[31m    message: "'Drop Axe' does not match '^[a-zA-Z0-9_-]{1,64}$' - 'functions.1.name'",[39m
[31m    type: 'invalid_request_error',[39m
[31m    param: null,[39m
[31m    code: null[39m
[31m  },[39m
[31m  code: null,[39m
[31m  param: null,[39m
[31m  type: 'invalid_request_error'[39m
[31m}[39m
[1691128700776][31mFailed to create chat completion. Retrying...[39m
[1691128700776]--- Response ---
[1691128700776]Plan: 
[1691128700776]undefined
[1691128700776]{}
